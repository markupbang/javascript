<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>OOP - 생성자와 NEW</title>
</head>
<body>
<div>
    console 확인 필요<br/><br/>
</div>

<script>
    // step 01
    var person = {};
    person.name = 'clair';
    person.introduce = function() {
        return 'My name is ' + this.name + '!';
    }
    document.write(person.introduce());

    var person1 = {
        'name': 'clair bang',
        'introduce': function() {
            return 'My name is ' + this.name + '!<br/><br/>';
        }
    }
    var person2 = {
        'name': 'clair bang new',
        'introduce': function() {
            return 'My name is ' + this.name + '!<br/><br/>';
        }
    }
    document.write(person1.introduce());
    document.write(person2.introduce());

    // step 02
    function person_new() {};
    var p = person_new();
    p; //undefined
    var p = new person_new();
    p; //person{}

    p.name = 'clair';
    p.introduce = function() {
        return 'My name is ' + this.name;
    }
    console.log(p.introduce());

    // step 03
    function Person_mdf(name) {// 초기화
        this.name = name;
        this.introduce = function() {
            return 'My name is ' + this.name + '!';
        }
    }
    var person_1 = new Person_mdf('clair bang'),
        person_2 = new Person_mdf('clair bang2');
    console.log(person_1.introduce());
    console.log(person_2.introduce());

    // this checked of method - 메소드의 호출
    var o = {
        'func': function() {
            if(this === o) {
                document.write("this checked of method: this === o<br/><br/>");
            }
        }
    };
    o.func();

    //생성자와 this
    var functhis = null;
    function Func() {
        functhis = this;
    }
    var o = Func();
    if(functhis === window) {
        document.write("functhis is window<br/><br/>")
    }

    var o2 = new Func();
    if(functhis === o2) {
        document.write("functhis is o2<br/><br/>")
    }

    //객체로서 함수
    var sum = function(x, y) {return x + y};
    console.log(sum(1,3));
    var sum2 = new Function('x','y','return x+ y');
    console.log(sum2(1,5));

    //apply
    var p = {},
        o = {};

    function func() {
        switch(this){
            case p:
                document.write("this p<br/><br/>");
                break;
            case o:
                document.write("this o<br/><br/>");
                break;
            case window:
                document.write("this window<br/><br/>");
                break;
        };
    }
    func();
    func.apply(o);
    func.apply(p);
</script>
</body>
</html>
